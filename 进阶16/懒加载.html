<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="懒加载.css">
</head>
<body>
	<div class="ct">
		<ul class="box">
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img class = "node" src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img class="a" src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497291192237&di=bf3318303b21ff2af0f3b2a0328397a5&imgtype=0&src=http%3A%2F%2Fh8.86.cc%2Fwalls%2F20160815%2F1440x900_729a1078c2b3b99.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>
			<li><img src="" data-src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1497288116882&di=1dfa9e22fb4ef2658ee6f74f70b93a99&imgtype=0&src=http%3A%2F%2Fpic2.cxtuku.com%2F00%2F00%2F28%2Fb0273d104ed3.jpg"></li>

		</ul>
	</div>

	<script src="https://cdn.moefont.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
var click
	lazyRender()

	$(window).on("scroll",function(){
		if(click){
			clearTimeout("click")
			
		}
			
			click = setTimeout(function(){
				lazyRender()
			},200)

		})

function lazyRender(){
	$("img").each(function(){
				if( checkWindow($(this)) && !isLoad($(this)) ){
						loadImg($(this))
				}
			})
}

function	checkWindow($img){
	var srcollTop = $(window).scrollTop()
	var windowHeight = $(window).height()
	var offsetTop = $img.offset().top

	 if( offsetTop < srcollTop + windowHeight && offsetTop > srcollTop ){
	 	return true
	 }
	 return false
}

function isLoad($img){
	if( $img.attr("src") ===$img.attr("data-src") ){
		return true
	} 
}

function loadImg($img){
	$img.attr("src",$img.attr("data-src"))
}



  	 var flag = 0;
    $(window).on("scroll",function(){
        $node = $(".node")
        var windowHeight = $(window).height()
        var scrollTop = $(window).scrollTop()
        var offsetTop = $node.offset().top
        
        if(flag === 0){

      		 if(offsetTop < windowHeight + scrollTop && offsetTop > scrollTop){
        			console.log("true")
          	  flag = 1
             return true
          }

        return false
        
      }      
    })

</script>
</body>
</html>